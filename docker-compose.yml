services:
  web:
    build: .
    ports:
      - "8000:8000"
    env_file:
      # Load environment variables from .env file in project root
      - .env
    environment:
      # Local/dev defaults (override as needed if not in .env)
      DJANGO_DEBUG: ${DJANGO_DEBUG:-1}
      DJANGO_ALLOWED_HOSTS: ${DJANGO_ALLOWED_HOSTS:-localhost,127.0.0.1}
      INSTANCE_ID: ${INSTANCE_ID:-docker-local}
      DJANGO_SECRET_KEY: ${DJANGO_SECRET_KEY:-local-dev-change-me}

